<div ng-controller="RecipeCtrl as recipeCtrl" class="page noBackground" id="recipe" ng-show="recipeCtrl.showRecipe()">
  <div class="container" ng-repeat="recipe in recipeCtrl.getRecipe()">
    <h3>Recette : {{recipe.title_recipe}}</h3>
    <div class="divider"></div>
    <div class="row">
      <div class="col s12">
        <img class="recipeimg" ng-src="{{recipe.imgurl}}"/>
      </div>
    </div>
    <div class="row">
      <div class="col s12">
        <i ng-click="recipeCtrl.changeFavorite()" class="material-icons waves-effect waves-light tooltipped favorite-recipe" data-position="bottom" data-delay="50" data-tooltip="Favoris">{{recipeCtrl.isFavorite()}}</i>
      </div>
    </div>
    <div class='row'>
      <div class="col s12">
        <div class="divider"></div>
        <h5>{{recipe.description}}</h5>
        <div class="divider"></div>
      </div>
    </div>
    <div class="row">
      <div class="col s12">
        <i class="small material-icons checkFood">check_circle</i>
        <span>Vous avez les ingrédients pour effectuer cette recette.</span>
      </div>
      <div class="col s12">
        <a class="waves-effect waves-light btn tooltipped" data-position="bottom" data-delay="50" data-tooltip="Cliquez ici si vous venez d'effectuer la recette et pour pouvoir enlever de vos aliments les aliments utilisés.">Recette effectuée, enlever les ingrédients</a>
      </div>
    </div>
    <nav>
    <div class="nav-wrapper recipeNav">
      <ul class="left hide-on-med-and-down">
        <li ng-class="recipeCtrl.pageIsActive(1)"><a ng-click="recipeCtrl.page = 1"><img class="titleLogo" src="img/infos.png"/>Caractéristiques</a></li>
        <li ng-class="recipeCtrl.pageIsActive(2)"><a ng-click="recipeCtrl.page = 2"><img class="titleLogo" src="img/ingredients.png"/>Ingrédients</a></li>
        <li ng-class="recipeCtrl.pageIsActive(3)"><a ng-click="recipeCtrl.page = 3"><img class="titleLogo" src="img/instructions.png"/>Instructions</a></li>
        <li ng-class="recipeCtrl.pageIsActive(4)"><a ng-click="recipeCtrl.page = 4"><img class="titleLogo" src="img/chart.png"/>Valeurs</a></li>
      </ul>
    </div>
  </nav>

    <div class="row" ng-show="recipeCtrl.page == 1">
      <div class="col s6">
        <ul>
          <li><h5><h5>Type : {{recipe.title_type}}</h5></h5></li>
          <li><h5>Difficulté : {{recipe.title_difficulty}}</h5></li>
          <li><h5>Pour {{recipe.peopleamount}} personnes</h5></li>
        </ul>
      </div>
      <div class="col s6">
        <ul>
          <li><h5>Temps : {{recipe.time_recipe}} min</h5></li>
          <li><h5>Origine : {{recipe.title_origin}}</h5></li>
          <li><h5>popularité {{recipe.popularity}} vues</h5></li>
        </ul>
      </div>
    </div>

    <div class="row" ng-show="recipeCtrl.page == 2">
      <div class="col s12">
        <div class="collection">
          <a ng-repeat="food in recipe.food" ng-class="recipeCtrl.hasFood(food.id_food,food.quantity_containfood)" class="collection-item">{{food.title_food}}<span class="secondary-content">{{food.quantity_containfood}}g</span></a>
        </div>
      </div>
    </div>


    <div class="row" ng-show="recipeCtrl.page == 3">
      <ul>
        <li ng-repeat="instruction in recipe.instructions">
          <h5><i class="tiny material-icons">label</i>{{instruction}}</h5>
        </li>
      </ul>
    </div>

    <div class="row" ng-show="recipeCtrl.page == 4">
      <div class="col s12">
        <ul class="collection with-header">
          <li class="collection-header"><h5>Poids, prix et valeurs nutritives /100g</h5></li>
          <li class="collection-item">Poids total<span class="secondary-content">{{recipe.totalQuantity}}g</span></li>
          <li class="collection-item">Prix<span class="secondary-content">{{recipe.price}}€</span></li>
          <li class="collection-item">Calories<span class="secondary-content">{{recipe.calorie | number:2}}kcal</span></li>
          <li class="collection-item">Protéines<span class="secondary-content">{{recipe.proteins | number:2}}g</span></li>
          <li class="collection-item">Lipides<span class="secondary-content">{{recipe.lipids | number:2}}g</span></li>
          <li class="collection-item">Glucides<span class="secondary-content">{{recipe.carbohydrates | number:2}}g</span></li>
        </ul>
      </div>
    </div>

  </div>
</div>
