<div class="page" id="myfood" ng-controller="FoodCtrl as foodCtrl" ng-show="userCtrl.connected()">
  <div class="container">
    <div id="modal1" class="modal">
      <form name="Modal" ng-submit="Modal.$valid " novalidate>
        <div class="modal-content">
          <h4>{{foodCtrl.modal.title_food}}</h4>
          <input id="inputModal" type="number" min=0 value={{foodCtrl.modal.value}} step=1 max={{foodCtrl.modal.max}} ng-model="userCtrl.modal.inputValue" required/><span>g</span>
        </div>
        <div class="modal-footer">
          <input type="submit" ng-click="userCtrl.updateQuantityFood(foodCtrl.modal.id_food, foodCtrl.modal.action);" class="modal-action modal-close waves-effect waves-green btn-flat" value="{{foodCtrl.modal.action}}"/>
          <a href="" ng-click="foodCtrl.modal.value ='';" class="modal-action modal-close waves-effect waves-green btn-flat">Fermer</a>
        </div>
      </form>
    </div>
    <h3>Mes aliments</h3>
    <table class="bordered">
        <thead>
          <tr>
              <th>Aliment</th>
              <th>Quantite</th>
              <th style="text-align: center;">Action</th>
          </tr>
        </thead>

        <tbody>
          <tr ng-repeat="food in userCtrl.food" ng-show="food.quantity_getfood">
            <td>{{food.title_food}}</td>
            <td>{{food.quantity_getfood}}</td>
            <td>
              <div class="fixed-action-btn horizontal">
                <a class="btn-floating btn-large">
                  <i class="large material-icons">mode_edit</i>
                </a>
                <ul>
                  <li><a ng-click="foodCtrl.setModalAdd(food.id_food)" href="#modal1" class="btn-floating green btn tooltipped" data-position="bottom" data-delay="50" data-tooltip="Ajouter"><i class="material-icons">add</i></a></li>
                  <li><a ng-click="foodCtrl.setModalSub(food.id_food, food.quantity_getfood)" href="#modal1" class="btn-floating orange btn tooltipped" data-position="bottom" data-delay="50" data-tooltip="Enlever"><span class="minus">-</span></a></li>
                  <li><a ng-click="foodCtrl.setModalNew(food.id_food)" href="#modal1" class="btn-floating yellow btn tooltipped" data-position="bottom" data-delay="50" data-tooltip="Nouvelle valeur"><i class="material-icons">settings_backup_restore</i></a></li>
                  <li><a ng-click="userCtrl.updateQuantityFood(food.id_food,'Delete')" class="btn-floating red btn tooltipped" data-position="bottom" data-delay="50" data-tooltip="Supprimer"><i class="material-icons">delete</i></a></li>
                </ul>
              </div>
            </td>
          </tr>
        </tbody>
      </table>
  </div>
</div>
